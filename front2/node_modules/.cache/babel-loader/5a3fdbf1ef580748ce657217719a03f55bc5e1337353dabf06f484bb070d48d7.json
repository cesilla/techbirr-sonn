{"ast":null,"code":"import React,{useState}from'react';import'./DAO.css';import Comments from'./Comments';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const initialProposals=[{title:'Yeni Dua Etkinliği Oluşturma',description:'Topluluk için haftalık dua etkinliği düzenleyelim.',votes:{yes:10,no:2},comments:[]},{title:'Bağış Kampanyası Başlatma',description:'Topluluk için bir bağış kampanyası başlatalım.',votes:{yes:8,no:1},comments:[]}// Daha fazla öneri ekleyebilirsiniz\n];const initialUsers=[{name:'User1',points:10,badges:['Rozet1','Rozet2']},{name:'User2',points:20,badges:['Rozet1']}// Daha fazla kullanıcı ekleyebilirsiniz\n];const DAO=()=>{const[proposals,setProposals]=useState(initialProposals);const[newProposalTitle,setNewProposalTitle]=useState('');const[newProposalDescription,setNewProposalDescription]=useState('');const[users,setUsers]=useState(initialUsers);const currentUser=users.find(user=>user.name==='User1');// Mevcut kullanıcıyı belirleyin\nconst handleAddProposal=()=>{if(newProposalTitle.trim()&&newProposalDescription.trim()){setProposals([...proposals,{title:newProposalTitle,description:newProposalDescription,votes:{yes:0,no:0},comments:[]}]);setNewProposalTitle('');setNewProposalDescription('');}};const handleVote=(index,voteType)=>{const updatedProposals=[...proposals];if(voteType==='yes'){updatedProposals[index].votes.yes+=1;}else{updatedProposals[index].votes.no+=1;}setProposals(updatedProposals);const updatedUsers=users.map(user=>{if(user.name===currentUser.name){return{...user,points:user.points+1};// Oylama için puan\n}return user;});setUsers(updatedUsers);};const handleAddComment=(index,comment)=>{const updatedProposals=[...proposals];updatedProposals[index].comments.push(comment);setProposals(updatedProposals);};return/*#__PURE__*/_jsxs(\"div\",{className:\"dao-page\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Topluluk \\xD6nerileri ve Oylamalar\"}),proposals.map((proposal,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"proposal\",children:[/*#__PURE__*/_jsx(\"h2\",{children:proposal.title}),/*#__PURE__*/_jsx(\"p\",{children:proposal.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"votes\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleVote(index,'yes'),children:[\"Evet (\",proposal.votes.yes,\")\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleVote(index,'no'),children:[\"Hay\\u0131r (\",proposal.votes.no,\")\"]})]}),/*#__PURE__*/_jsx(Comments,{comments:proposal.comments,onAddComment:comment=>handleAddComment(index,comment)})]},index)),/*#__PURE__*/_jsxs(\"div\",{className:\"new-proposal\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Yeni \\xD6neri Olu\\u015Ftur\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newProposalTitle,onChange:e=>setNewProposalTitle(e.target.value),placeholder:\"\\xD6neri Ba\\u015Fl\\u0131\\u011F\\u0131\"}),/*#__PURE__*/_jsx(\"textarea\",{value:newProposalDescription,onChange:e=>setNewProposalDescription(e.target.value),placeholder:\"\\xD6neri A\\xE7\\u0131klamas\\u0131\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleAddProposal,children:\"\\xD6neri Ekle\"})]})]});};export default DAO;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}